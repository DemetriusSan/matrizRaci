<main class="bpmn-page">
  <header class="page-header">
    <div>
      <p class="eyebrow">Ferramenta BPMN</p>
      <h1>Modele processos com clareza</h1>
      <p class="subtitle">
        Crie diagramas BPMN reais, salve em XML e exporte em JPG para compartilhar.
      </p>
    </div>
    <a routerLink="/" class="btn btn-ghost">‚Üê Voltar para Home</a>
  </header>

  <section class="toolbar">
    <button class="btn btn-primary" (click)="createNewDiagram()">Novo diagrama</button>
    <button class="btn btn-ghost" (click)="saveXml()">Salvar BPMN</button>
    <label class="btn btn-ghost file-upload">
      Abrir BPMN
      <input type="file" accept=".bpmn,.xml" (change)="onFileSelected($event)" />
    </label>
    <button class="btn btn-ghost" (click)="exportJpg()">Exportar JPG</button>
    <button class="btn btn-ghost" (click)="toggleConnectMode()">
      {{ connectMode ? 'Cancelar conex√£o' : 'Conectar (seta)' }}
    </button>
    <a routerLink="/bpmn/aprender" class="btn btn-ghost">Aprender BPMN</a>
  </section>

  <section class="canvas-card">
    <div class="canvas" #canvas></div>
    <aside class="properties-panel">
      <h3>Editar r√≥tulo</h3>
      <p class="helper">
        Selecione um elemento e escreva o texto. Para decis√µes, selecione o gateway ou a seta.
      </p>
      <label class="field">
        <span>Nome</span>
        <input
          type="text"
          [(ngModel)]="selectedName"
          (ngModelChange)="onNameChange($event)"
          [disabled]="!canEditLabel"
          placeholder="Selecione um elemento"
        />
      </label>
      <div class="meta" *ngIf="selectedType">Tipo: {{ selectedType }}</div>
    </aside>
    <p class="tool-hint" *ngIf="connectHint">{{ connectHint }}</p>
    <p class="status" *ngIf="statusMessage">{{ statusMessage }}</p>
    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  </section>

  <section class="tips">
    <h2>Guia r√°pido BPMN</h2>
    <div class="tip-grid">
      <article class="tip-card">
        <h3>üü¢ Evento de in√≠cio</h3>
        <p>Marque onde o processo come√ßa.</p>
      </article>
      <article class="tip-card">
        <h3>‚¨õ Tarefa</h3>
        <p>Represente uma atividade executada.</p>
      </article>
      <article class="tip-card">
        <h3>üî∑ Gateway</h3>
        <p>Crie decis√µes e caminhos alternativos.</p>
      </article>
      <article class="tip-card">
        <h3>üèÅ Evento de fim</h3>
        <p>Indique onde o fluxo termina.</p>
      </article>
    </div>
  </section>
</main>
