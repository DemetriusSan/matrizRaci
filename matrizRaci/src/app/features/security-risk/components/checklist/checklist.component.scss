$primary: #1a3a5c;
$accent: #2196F3;
$danger: #dc3545;
$success: #28a745;
$warning: #ffc107;
$border: #dee2e6;
$bg: #f8f9fa;
$muted: #6c757d;
$radius: 8px;
$shadow: 0 2px 8px rgba(0,0,0,0.08);

.checklist-container {
  max-width: 960px;
  margin: 0 auto;
  padding: 24px;
}

// ── Header ─────────────────────────────────────────────────────────────
.analysis-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  flex-wrap: wrap;
  gap: 16px;
  margin-bottom: 20px;
  h2 { font-size: 1.3rem; color: $primary; margin: 0 0 8px; }
}
.analysis-meta { display: flex; flex-wrap: wrap; align-items: center; gap: 8px; }
.tag {
  padding: 3px 10px;
  background: #e3f2fd;
  color: $accent;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
}
.badge {
  padding: 3px 12px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 700;
  &.debt    { background: #f3e5f5; color: #7b1fa2; }
  &.pentest { background: #ffebee; color: $danger; }
  &.threat  { background: #e8f5e9; color: #2e7d32; }
}

.risk-badge {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 20px;
  background: white;
  border: 2px solid #dee2e6;
  border-radius: $radius;
  box-shadow: $shadow;
  .risk-icon { font-size: 2rem; }
  .risk-info { display: flex; flex-direction: column; }
  .risk-level { font-size: 1.1rem; font-weight: 800; }
  .risk-score { font-size: 0.8rem; color: #666; }
}

// ── Progress ───────────────────────────────────────────────────────────
.progress-section {
  margin-bottom: 16px;
  .progress-label {
    display: flex;
    justify-content: space-between;
    font-size: 0.88rem;
    margin-bottom: 6px;
    color: #555;
  }
}
.progress-bar-track {
  height: 10px;
  background: #e0e0e0;
  border-radius: 10px;
  overflow: hidden;
}
.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, $accent, $success);
  border-radius: 10px;
  transition: width 0.4s ease;
}

// ── Critical Findings ─────────────────────────────────────────────────
.critical-findings {
  background: #fff3f3;
  border: 1px solid $danger;
  border-left: 4px solid $danger;
  border-radius: $radius;
  padding: 16px;
  margin-bottom: 16px;
  h3 { color: $danger; font-size: 0.95rem; margin: 0 0 8px; }
  ul { margin: 0; padding-left: 20px; }
  li { font-size: 0.88rem; color: #333; margin-bottom: 4px; }
}

// ── Breakdown ─────────────────────────────────────────────────────────
.breakdown-grid {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.breakdown-card {
  flex: 1;
  min-width: 100px;
  background: white;
  border: 1px solid $border;
  border-radius: $radius;
  padding: 12px;
  text-align: center;
  box-shadow: $shadow;
  .bd-label { display: block; font-size: 0.75rem; color: #666; margin-bottom: 4px; }
  .bd-value { font-size: 1.5rem; font-weight: 800; color: $primary; }
}

// ── Checklist Group ───────────────────────────────────────────────────
.checklist-group {
  margin-bottom: 12px;
  border: 1px solid $border;
  border-radius: $radius;
  overflow: hidden;
  box-shadow: $shadow;
}
.group-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: $bg;
  cursor: pointer;
  user-select: none;
  transition: background 0.15s;
  &:hover { background: #eef2f7; }
}
.group-title-area {
  display: flex;
  align-items: center;
  gap: 10px;
  h3 { font-size: 0.95rem; color: $primary; margin: 0; }
  .chevron { color: $accent; font-size: 0.8rem; }
  .item-count { font-size: 0.8rem; color: $muted; }
  .vuln-count { font-size: 0.78rem; color: $danger; font-weight: 700; }
}
.group-progress {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.8rem;
  color: #555;
}
.mini-progress-track {
  width: 100px;
  height: 6px;
  background: #ddd;
  border-radius: 6px;
  overflow: hidden;
}
.mini-progress-fill {
  height: 100%;
  background: $accent;
  border-radius: 6px;
  transition: width 0.3s;
  &.complete { background: $success; }
}

// ── Checklist Item ────────────────────────────────────────────────────
.group-items { background: white; }
.checklist-item {
  padding: 14px 16px;
  border-bottom: 1px solid $border;
  transition: background 0.15s;
  &:last-child { border-bottom: none; }
  &.vulnerable { background: #fff5f5; }
  &.approved   { background: #f5fff7; }
}
.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 6px;
}
.item-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: wrap;
}
.severity-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}
.item-title {
  font-size: 0.92rem;
  font-weight: 600;
  color: #333;
}
.mandatory-badge {
  padding: 2px 8px;
  background: #fff3cd;
  color: #856404;
  border-radius: 10px;
  font-size: 0.72rem;
  font-weight: 700;
}
.owasp-ref {
  padding: 2px 8px;
  background: #e8f4fd;
  color: #0c63e4;
  border-radius: 10px;
  font-size: 0.72rem;
}
.item-controls {
  display: flex;
  align-items: center;
  gap: 10px;
  select {
    padding: 4px 8px;
    border-radius: 6px;
    border: 1px solid;
    font-size: 0.85rem;
    font-weight: 600;
    background: white;
    cursor: pointer;
  }
}
.severity-label { font-size: 0.8rem; font-weight: 700; }
.item-description { font-size: 0.85rem; color: #555; margin: 0 0 8px; }

// ── Evidence ──────────────────────────────────────────────────────────
.evidence-area {
  display: flex;
  flex-direction: column;
  gap: 6px;
  textarea {
    width: 100%;
    padding: 6px 10px;
    border: 1px solid $border;
    border-radius: 6px;
    font-size: 0.85rem;
    resize: vertical;
    &:focus { outline: none; border-color: $accent; }
    box-sizing: border-box;
  }
}
.file-upload { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
.file-label {
  padding: 4px 12px;
  background: $bg;
  border: 1px solid $border;
  border-radius: 6px;
  font-size: 0.82rem;
  cursor: pointer;
  transition: background 0.15s;
  &:hover { background: #e9ecef; }
}
.file-name   { font-size: 0.8rem; color: $success; font-weight: 600; }
.uploading   { font-size: 0.8rem; color: $accent; }

// ── History ───────────────────────────────────────────────────────────
.history-section {
  margin-top: 24px;
  h3 { font-size: 1rem; color: $primary; margin-bottom: 12px; }
}
.history-list { display: flex; flex-direction: column; gap: 6px; }
.history-entry {
  display: flex;
  gap: 12px;
  font-size: 0.82rem;
  padding: 6px 10px;
  background: $bg;
  border-radius: 6px;
  flex-wrap: wrap;
}
.history-time   { color: #888; min-width: 130px; }
.history-user   { font-weight: 600; color: $primary; }
.history-action { color: #444; }

.loading { padding: 40px; text-align: center; color: $muted; font-size: 1.1rem; }
